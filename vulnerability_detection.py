while True:
    for device in iot_network.devices.values():
        if detect_vulnerability(device.device_id):
            if not device.blocked:
                print(f"Vulnerability detected! Blocking device {device.device_id}")
                device.block_device()
        else:
            if device.blocked:
                print(f"Vulnerability cleared! Unblocking device {device.device_id}")
                device.unblock_device()

    time.sleep(5)  # Check for vulnerabilities every 5 seconds (or adjust the interval as needed)
